<div class="modal-dialog" style="max-width: initial">
  <div class="modal-content" style="max-width: 640px; width: 90vw">
    <!-- Header -->
    <div class="modal-header align-items-center border-0">
      <h4 class="flex-grow-1 font-weight-bolder mb-0 position-absolute text-center text-primary w-100" style="left: 0">Top Fans</h4>
      <button class="close" (click)="onClickClose()">
        <fa-icon [icon]="faTimes"></fa-icon>
      </button>
    </div>

    <!-- Body -->
    <div class="modal-body py-0">

      <!-- 0. Coduct of Conduct -->
      <div [ngClass]="{ 'd-none': modalPage != ChatWindowModalPage.SETUP_ACCEPT }">
        <p class="text-justify">Show how much FUN <b>U</b>’r havin’!<br/>Connect your webcam and give <b>U</b>’r best moooooves</p>
        <p class="text-justify">To make this experience positive and safe to all, you must respect the Code of Conduct in place. </p>

        <h4 class="font-weight-bolder text-center text-primary">Code of Conduct</h4>
        <h6 class="font-weight-bolder text-center">It’s not allowed</h6>

        <ul class="text-justify pl-0">
          <li>Nudity (partial or total)</li>
          <li>Obscene or pornographic content</li>
          <li>Violence, self-harm, hate speech or any form of discrimination</li>
          <li>Unsolicited advertising, promotional materials or SPAM</li>
          <li>Interfering with or disrupting the services or bypassing any security measures or restrictions that we have put in place</li>
        </ul>
      </div>

      <!-- 1. Camera Setup -->
      <div [ngClass]="{ 'd-none': modalPage != ChatWindowModalPage.SETUP_CAMERA }">
        <p class="text-justify">Grant camera permission to test your camera before participating.</p>

        <div class="card border border-primary overflow-hidden mb-3 position-relative">
          <div style="padding-bottom: 56.25%"></div>
          <video #cameraPreview autoplay muted playsinline class="position-absolute" style="max-height: 100%"></video>
        </div>

        <p class="text-justify">If you see yourself on screen, click on End Test below.</p>
        <p class="text-justify">We will let you know moments before to join in again </p>
      </div>

      <!-- 2. Ready -->
      <div [ngClass]="{ 'd-none': modalPage != ChatWindowModalPage.SETUP_READY }">
        <h4 class="font-weight-bolder text-center">All set!</h4>
        <p class="text-center">We will let you know to connect the camera back and get ready!</p>
      </div>

      <!-- 3. Stream Start -->
      <div [ngClass]="{ 'd-none': modalPage != ChatWindowModalPage.STREAM_START }">
        <h4 *ngIf="countdown" class="font-weight-bolder text-center mb-0">Get Ready!</h4>
        <h2 *ngIf="countdown" class="font-weight-bolder text-center">{{ countdown }}s</h2>

        <h4 *ngIf="countdown == 0" class="font-weight-bolder text-center mb-0"><b>U</b>’r Live</h4>
        <h2 *ngIf="countdown == 0" class="font-weight-bolder text-center">- Give <b>U</b>’r best moves!</h2>

        <div class="card border border-primary overflow-hidden mt-3 position-relative">
          <div style="padding-bottom: 56.25%"></div>
          <video #cameraPreview2 autoplay muted playsinline class="position-absolute" style="max-height: 100%"></video>
        </div>
      </div>

      <!-- 4. Stream Stop -->
      <div [ngClass]="{ 'd-none': modalPage != ChatWindowModalPage.STREAM_STOP }">
        <h4 class="font-weight-bolder text-center mb-0">Hope <b>U</b> have enjoyed it.</h4>
        <p class="text-center"><b>U</b> can participate again!</p>
      </div>

      <!-- 5. Stream Stop BANNED -->
      <div [ngClass]="{ 'd-none': modalPage != ChatWindowModalPage.STREAM_STOP_BANNED }">
        <h4 class="font-weight-bolder text-center mb-0">Banned!</h4>
        <p class="text-center">You've been banned from this event.<br/>You can no longer join the chat nor the Top Fans.</p>
      </div>

      <!-- 6. Stream Stop KICKED -->
      <div [ngClass]="{ 'd-none': modalPage != ChatWindowModalPage.STREAM_STOP_KICKED }">
        <h4 class="font-weight-bolder text-center mb-0">Kicked!</h4>
        <p class="text-center">You've been kicked from Top Fans.<br/>Try not to violate our Code of Conduct next time.<br/>You've been warned.</p>
      </div>

    </div>

    <!-- Footer -->
    <div class="modal-footer border-0 d-block pt-3">

      <!-- 0. Coduct of Conduct -->
      <div [ngClass]="{ 'd-none': modalPage != ChatWindowModalPage.SETUP_ACCEPT }">
        <p class="text-center text-primary">By pressing next you are accepting our Terms & Conditions</p>

        <div class="d-flex justify-content-between">
          <button class="btn btn-outline-primary" (click)="onClickClose()">Close</button>
          <button class="btn btn-primary" (click)="onClickPage(1)">Next</button>
        </div>
      </div>

      <!-- 1. Camera Setup -->
      <div [ngClass]="{ 'd-none': modalPage != ChatWindowModalPage.SETUP_CAMERA }">
        <div class="d-flex justify-content-between">
          <button class="btn btn-outline-primary" (click)="onClickPage(0)">Back</button>
          <button class="btn btn-primary" (click)="onClickPage(2)" [disabled]="!cameraPreview.srcObject">End Test</button>
        </div>
      </div>

    </div>

  </div>
</div>
